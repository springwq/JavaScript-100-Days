# 语言基础

## 语法

### 区分大小写

- ECMAScript 中一切都区分大小写
- 无论变量、函数名还是操作符，都区分大小写

### 标识符

- 标识符，就是变量、函数或函数参数的名称
- 标识符可以一个或对个下列字符组成：字母、下划线、美元符号、数字
- 第一个字符必须是字母、下划线、美元符号
- 按照惯例，ECMAScript 标识符使用驼峰大小写形式，记第一个单词的首字母小写，后面每个单词的首字母大写

```javscript
firstSecond
myCard
doSomethingImportant
```

### 注释

```javascript
// 单行注释
/* 这是
多行
注释 */
```

### 严格模式

要对整个脚本启用严格模式，在脚本开头加上：

```javascript
"use strict";
```

ES6 模块和类不需要 `"use strict"` 指令就自动应用严格模式；一些现代大宝漆也会自动插入这个指令


### 语句

- ECMAScript 中的语句以分号结尾
- 省略分号，由解析器确定语句在哪里结尾



```javascript
let sum = a + b // 没有分号也有效
let diff = a - b; // 推荐
```

- 多条语句可以合并到一个代码块中


```javascript
if (test) {
  test = false;
  console.log(test);
}
```

- `if` 之类的控制语句只在指定多条语句是要求必须有代码块，不过，最佳实践是始终在控制语句中使用代码块，即使只有一条语句


```javscript
// 有效，但易错

if (test)
   console.log(test);

// 推荐
if (test) {
  console.log(test);
}
```


## 关键字和保留字

- 保留的关键字不能用作标识符或属性名
- ECMA-262 规定的所有关键字


```
await break case catch class const continue
debugger default delete do else export
extends false finally for function if import
in instanceof new null return super switch
this throw true try typeof var void while
with yield
```

- ECMA-262 为将来保留的词汇

```
enum
arguments eval implements interface package private protected public static
```

## 变量

- 变量是松散类型，可以保存任何类型的数据
- 每个变量是一个用于保存人一直的明明占位符
- 可以申明变量的关键字：`var`、`let` 和 `const`

### var 关键字

定义变量：使用 `var` 操作符，后面跟变量名

```javascript
var message = "hi";
message = 100; // 合法，但不推荐
```

#### 1. var 声明作用域
使用 `var` 操作符定义的变量会成为包含他的函数的局部变量


```javascript
function test() {
  var message = "hi";
}

test();
console.log(message); // 出错！
```

在函数内定义变量时省略 `var` 操作符可以创建全局变量

```javascript
// 不推荐这么做
function test() {
  message = "hi";
}

test();

console.log(message);
```

可以在一条语句有个都好分隔定义多个变量


```javascript
var message = "hi",
    found = false,
    age = 29;
```

#### 2. var 声明提升

使用 var 声明的变量会自动提升到函数作用域

```javascript
function foo() {
  console.log(age);
  var age = 26;
}
foo(); // undefined
```

反复多次使用 var 声明同一个变量也没问题

```javascript
function foo() {
  var age = 16;
  var age = 26;
  var age = 36;
  console.log(age);
}
```



### let 声明

`let` 和 `var` 的作用差不多，最明显的区别是 `let` 声明的范围是块作用域，而 `var` 声明的范围是函数作用域。

```javascript
if (true) {
  var name = 'Bob';
  console.log(name); // Bob
}
console.log(name);

if (true) {
  let age = 26;
  console.log(age); // 26
}
console.log(age); // ReferenceError: age 没有定义
```

`let` 不允许同一个块作用于中出现冗余声明

```javascript
let age;
let age; // SyntaxError
```

嵌套使用相同的标识符不会报错


```javascript
var name = 'Alice';
console.log(name); // 'Alice'
if (true) {
  var name = 'Bob';
  console.log(name); // 'Bob'
}

let age = 30;
console.log(age); // 30
if (true) {
  let age = 26;
  console.log(age); // 26
}
```

let 和 var 混用声明冗余变量会报错


```javascript
var name;
let name; // SyntaxError

let age;
var age; // SyntaxError
```

#### 1. 暂时性死区

`let` 声明的变量不会在作用域中被提升


```javascript
console.log(age); // ReferenceError
let age = 26;
```

#### 2. 全局声明

使用  let 在全局作用域中声明的变量不会像 var 声明的变量那样成为 window 对象的属性


```javascript
var name = 'Bob';
console.log(window.name); // Bob

let age = 26;
console.log(window.age);
```

#### 3. 条件声明

let 作用域被限定在快中，不可能检查前面是否已经使用 let 生命过同名变量并在没用声明的情况下声明它（条件式声明）

#### 4. for 循环中的 let 声明

for 循环定义的迭代变量作用域见咸鱼 for 循环块内部

```javascript
for (let i = 0; i < 5; ++i) {
  setTimeout(() => console.log(i),0)
}
console.log(i); // ReferenceError
```

### const 声明

const 声明对的变量必须同时初始化，且尝试修改 const 声明的变量会导致运行时错误

```javascript
const age = 26;
age = 36; // TypeError

// const 也不允许重复声明

const name = 'Bob';
const name = 'Alice'; // SyntaxError

// const 声明的作用域也是块

const name = 'Bob';
if (true) {
  const name = 'Alice';
}

console.log(name); // Bob
```

如果 const 变量应用的是一个对象，那么修改这个对象内部的属性并不违反 const 的限制


```javascript
const person = {};
person.name = 'Bob';
```

不能用 const 来声明迭代变量

```javascript
for (const i = 0; i < 10; ++i) {} // TypeError
```

如果只想想用 const 声明一个不会被修改的 for 循环变量，那是可以的


```javascript
let i = 0;
for (const j = 7; i < 5; ++i) {
  console.log(j);
}
```

### 声明风格及最佳实践

1. 不使用 var
1. 先 const 再 let
